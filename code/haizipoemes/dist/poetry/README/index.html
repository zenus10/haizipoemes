<!DOCTYPE html><link rel="stylesheet" href="/_astro/_id_.kLFFSAer.css"><h1 id="è¯—æ­Œæ€»è§ˆé¡µ---poetry-index-page">è¯—æ­Œæ€»è§ˆé¡µ - Poetry Index Page</h1>
<h2 id="é¡µé¢æ¦‚è¿°">é¡µé¢æ¦‚è¿°</h2>
<p>è¯—æ­Œæ€»è§ˆé¡µæ˜¯æµ·å­è¯—æ­Œç½‘ç«™çš„æ ¸å¿ƒé¡µé¢ä¹‹ä¸€ï¼Œæä¾›è¯—æ­Œæµè§ˆã€ç­›é€‰å’Œæœç´¢åŠŸèƒ½ã€‚</p>
<p><strong>è®¿é—®è·¯å¾„</strong>ï¼š<code>/poetry</code></p>
<p><strong>æ ¸å¿ƒåŠŸèƒ½</strong>ï¼š</p>
<ul>
<li>ğŸ“š è¯—æ­Œåˆ—è¡¨å±•ç¤º</li>
<li>ğŸ” å®æ—¶æœç´¢åŠŸèƒ½</li>
<li>ğŸ·ï¸ å¤šç»´åº¦ç­›é€‰ï¼ˆç±»å‹ã€æ—¶é—´ï¼‰</li>
<li>ğŸ“± å“åº”å¼è®¾è®¡</li>
</ul>
<p><strong>é¡µé¢å¸ƒå±€</strong>ï¼š</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span class="line"><span>â”‚            å¯¼èˆªæ  (Navbar)                    â”‚</span></span>
<span class="line"><span>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span class="line"><span>â”‚              â”‚  æœç´¢æ  (Search Bar)           â”‚</span></span>
<span class="line"><span>â”‚  ç­›é€‰æ       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚</span></span>
<span class="line"><span>â”‚  (Sidebar)   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚</span></span>
<span class="line"><span>â”‚              â”‚                               â”‚</span></span>
<span class="line"><span>â”‚  â”Œ ç­›é€‰ â”    â”‚  â€¢ è¯—æ­Œæ ‡é¢˜1                  â”‚</span></span>
<span class="line"><span>â”‚  [ç±»å‹]      â”‚  â€¢ è¯—æ­Œæ ‡é¢˜2                  â”‚</span></span>
<span class="line"><span>â”‚   â˜‘ çŸ­è¯—     â”‚  â€¢ è¯—æ­Œæ ‡é¢˜3                  â”‚</span></span>
<span class="line"><span>â”‚   â–¡ é•¿è¯—     â”‚  â€¢ è¯—æ­Œæ ‡é¢˜4                  â”‚</span></span>
<span class="line"><span>â”‚              â”‚  â€¢ è¯—æ­Œæ ‡é¢˜5                  â”‚</span></span>
<span class="line"><span>â”‚  [æ—¶é—´]      â”‚  ...                          â”‚</span></span>
<span class="line"><span>â”‚   â˜‘ 1989     â”‚                               â”‚</span></span>
<span class="line"><span>â”‚   â–¡ 1988     â”‚                               â”‚</span></span>
<span class="line"><span>â”‚              â”‚                               â”‚</span></span>
<span class="line"><span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span>
<span class="line"><span></span></span></code></pre>
<hr>
<h2 id="æ–‡ä»¶ç»„æˆ">æ–‡ä»¶ç»„æˆ</h2>
<h3 id="æ ¸å¿ƒæ–‡ä»¶">æ ¸å¿ƒæ–‡ä»¶</h3>



































<table><thead><tr><th>æ–‡ä»¶</th><th>è·¯å¾„</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>é¡µé¢æ–‡ä»¶</td><td><code>index.astro</code></td><td>é¡µé¢ç»“æ„å’Œäº¤äº’é€»è¾‘</td></tr><tr><td>æ ·å¼æ–‡ä»¶</td><td><code>../../styles/pages/poetry-index.css</code></td><td>é¡µé¢ä¸“å±æ ·å¼</td></tr><tr><td>æ•°æ®æº</td><td><code>../../content/data.ts</code></td><td>è¯—æ­Œæ•°æ®å®šä¹‰</td></tr><tr><td>å¸ƒå±€ç»„ä»¶</td><td><code>../../layouts/BaseLayout.astro</code></td><td>åŸºç¡€å¸ƒå±€</td></tr><tr><td>å…¨å±€æ ·å¼</td><td><code>../../styles/global.css</code></td><td>CSSå˜é‡å®šä¹‰</td></tr></tbody></table>
<h3 id="æ–‡ä»¶ä¾èµ–å…³ç³»">æ–‡ä»¶ä¾èµ–å…³ç³»</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>index.astro</span></span>
<span class="line"><span>  â”œâ”€ import BaseLayout from '../../layouts/BaseLayout.astro'</span></span>
<span class="line"><span>  â”œâ”€ import { samplePoems, poemTypes, poemYears } from '../../content/data'</span></span>
<span class="line"><span>  â””â”€ import '../../styles/pages/poetry-index.css'</span></span>
<span class="line"><span>       â””â”€ ä½¿ç”¨ var(--colorPrimary) ç­‰å…¨å±€CSSå˜é‡</span></span>
<span class="line"><span></span></span></code></pre>
<hr>
<h2 id="åŠŸèƒ½è¯¦è§£">åŠŸèƒ½è¯¦è§£</h2>
<h3 id="1-ç­›é€‰åŠŸèƒ½">1. ç­›é€‰åŠŸèƒ½</h3>
<h4 id="11-ç±»å‹ç­›é€‰">1.1 ç±»å‹ç­›é€‰</h4>
<p><strong>æ”¯æŒçš„ç±»å‹</strong>ï¼š</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#F97583">export</span><span style="color:#F97583"> const</span><span style="color:#79B8FF"> poemTypes</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">  { key: </span><span style="color:#9ECBFF">'short'</span><span style="color:#E1E4E8">, label: </span><span style="color:#9ECBFF">'çŸ­è¯—'</span><span style="color:#E1E4E8"> },</span></span>
<span class="line"><span style="color:#E1E4E8">  { key: </span><span style="color:#9ECBFF">'long'</span><span style="color:#E1E4E8">, label: </span><span style="color:#9ECBFF">'é•¿è¯—'</span><span style="color:#E1E4E8"> },</span></span>
<span class="line"><span style="color:#E1E4E8">  { key: </span><span style="color:#9ECBFF">'sun'</span><span style="color:#E1E4E8">, label: </span><span style="color:#9ECBFF">'å¤ªé˜³Â·ä¸ƒéƒ¨ä¹¦'</span><span style="color:#E1E4E8"> },</span></span>
<span class="line"><span style="color:#E1E4E8">  { key: </span><span style="color:#9ECBFF">'essay'</span><span style="color:#E1E4E8">, label: </span><span style="color:#9ECBFF">'æ–‡è®º'</span><span style="color:#E1E4E8"> },</span></span>
<span class="line"><span style="color:#E1E4E8">];</span></span>
<span class="line"></span></code></pre>
<p><strong>ç­›é€‰é€»è¾‘</strong>ï¼š</p>
<ul>
<li>å¤šé€‰æ”¯æŒï¼šå¯åŒæ—¶é€‰æ‹©å¤šä¸ªç±»å‹</li>
<li>ç©ºé€‰æ˜¾ç¤ºå…¨éƒ¨ï¼šæœªé€‰æ‹©ä»»ä½•ç±»å‹æ—¶æ˜¾ç¤ºæ‰€æœ‰è¯—æ­Œ</li>
<li>ANDé€»è¾‘ï¼šä¸å…¶ä»–ç­›é€‰æ¡ä»¶ç»„åˆä½¿ç”¨</li>
</ul>
<h4 id="12-æ—¶é—´ç­›é€‰">1.2 æ—¶é—´ç­›é€‰</h4>
<p><strong>å¹´ä»½èŒƒå›´</strong>ï¼š1983-1989ï¼ˆæµ·å­åˆ›ä½œæ—¶æœŸï¼‰</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#F97583">export</span><span style="color:#F97583"> const</span><span style="color:#79B8FF"> poemYears</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#9ECBFF">  '1983'</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'1984'</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'1985'</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'1986'</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'1987'</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'1988'</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'1989'</span></span>
<span class="line"><span style="color:#E1E4E8">];</span></span>
<span class="line"></span></code></pre>
<p><strong>ç­›é€‰ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>è¦†ç›–å®Œæ•´åˆ›ä½œæ—¶æœŸ</li>
<li>æ”¯æŒå¤šé€‰</li>
<li>ä¸ç±»å‹ç­›é€‰è”åŠ¨</li>
</ul>
<h4 id="13-å¯æŠ˜å ç­›é€‰ç»„">1.3 å¯æŠ˜å ç­›é€‰ç»„</h4>
<p><strong>HTMLç»“æ„</strong>ï¼š</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="astro"><code><span class="line"><span style="color:#E1E4E8">&#x3C;</span><span style="color:#85E89D">div</span><span style="color:#B392F0"> class</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"filter-group"</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">  &#x3C;</span><span style="color:#85E89D">button</span><span style="color:#B392F0"> class</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"filter-group-toggle"</span><span style="color:#B392F0"> data-group</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"type"</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">    &#x3C;</span><span style="color:#85E89D">span</span><span style="color:#E1E4E8">>ç±»å‹&#x3C;/</span><span style="color:#85E89D">span</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">    &#x3C;</span><span style="color:#85E89D">svg</span><span style="color:#B392F0"> class</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"toggle-icon"</span><span style="color:#E1E4E8">>...&#x3C;/</span><span style="color:#85E89D">svg</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">  &#x3C;/</span><span style="color:#85E89D">button</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">  &#x3C;</span><span style="color:#85E89D">div</span><span style="color:#B392F0"> class</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"filter-options"</span><span style="color:#B392F0"> data-group-content</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"type"</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#6A737D">    &#x3C;!-- ç­›é€‰é€‰é¡¹ --></span></span>
<span class="line"><span style="color:#E1E4E8">  &#x3C;/</span><span style="color:#85E89D">div</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">&#x3C;/</span><span style="color:#85E89D">div</span><span style="color:#E1E4E8">></span></span>
<span class="line"></span></code></pre>
<p><strong>äº¤äº’è¡Œä¸º</strong>ï¼š</p>
<ul>
<li>ç‚¹å‡»æ ‡é¢˜å±•å¼€/æ”¶èµ·</li>
<li>å›¾æ ‡æ—‹è½¬åŠ¨ç”»ï¼ˆ90åº¦ï¼‰</li>
<li>é»˜è®¤å±•å¼€çŠ¶æ€</li>
</ul>
<h4 id="14-æ¸…é™¤æŒ‰é’®">1.4 æ¸…é™¤æŒ‰é’®</h4>
<p><strong>ä½ç½®</strong>ï¼šç­›é€‰æ é¡¶éƒ¨å³ä¾§</p>
<p><strong>åŠŸèƒ½</strong>ï¼š</p>
<ul>
<li>å–æ¶ˆæ‰€æœ‰å¤é€‰æ¡†é€‰ä¸­</li>
<li>æ¸…ç©ºæœç´¢æ¡†</li>
<li>é‡æ–°æ˜¾ç¤ºå…¨éƒ¨è¯—æ­Œ</li>
</ul>
<p><strong>å®ç°ä»£ç </strong>ï¼š</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#E1E4E8">clearButton?.</span><span style="color:#B392F0">addEventListener</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'click'</span><span style="color:#E1E4E8">, () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">  checkboxes.</span><span style="color:#B392F0">forEach</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">checkbox</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    checkbox.checked </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"><span style="color:#E1E4E8">  searchInput.value </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> ''</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#B392F0">  filterPoems</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"></span></code></pre>
<hr>
<h3 id="2-æœç´¢åŠŸèƒ½">2. æœç´¢åŠŸèƒ½</h3>
<h4 id="21-å®æ—¶æœç´¢">2.1 å®æ—¶æœç´¢</h4>
<p><strong>è§¦å‘æ–¹å¼</strong>ï¼š<code>input</code>äº‹ä»¶ï¼ˆæ¯æ¬¡è¾“å…¥éƒ½è§¦å‘ï¼‰</p>
<p><strong>æœç´¢èŒƒå›´</strong>ï¼šè¯—æ­Œæ ‡é¢˜</p>
<p><strong>åŒ¹é…è§„åˆ™</strong>ï¼š</p>
<ul>
<li>ä¸åŒºåˆ†å¤§å°å†™</li>
<li>åŒ…å«åŒ¹é…ï¼ˆéƒ¨åˆ†åŒ¹é…å³å¯ï¼‰</li>
<li>æ”¯æŒä¸­è‹±æ–‡</li>
</ul>
<p><strong>å®ç°ä»£ç </strong>ï¼š</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#E1E4E8">searchInput?.</span><span style="color:#B392F0">addEventListener</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'input'</span><span style="color:#E1E4E8">, filterPoems);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> filterPoems</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> searchTerm</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> searchInput.value.</span><span style="color:#B392F0">toLowerCase</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">  poems?.</span><span style="color:#B392F0">forEach</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">poem</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> title</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> poem.</span><span style="color:#B392F0">getAttribute</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'data-title'</span><span style="color:#E1E4E8">)?.</span><span style="color:#B392F0">toLowerCase</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">||</span><span style="color:#9ECBFF"> ''</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> matchesSearch</span><span style="color:#F97583"> =</span><span style="color:#F97583"> !</span><span style="color:#E1E4E8">searchTerm </span><span style="color:#F97583">||</span><span style="color:#E1E4E8"> title.</span><span style="color:#B392F0">includes</span><span style="color:#E1E4E8">(searchTerm);</span></span>
<span class="line"><span style="color:#6A737D">    // ...</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h4 id="22-ç²˜æ€§æœç´¢æ ">2.2 ç²˜æ€§æœç´¢æ </h4>
<p><strong>CSSå®ç°</strong>ï¼š</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="css"><code><span class="line"><span style="color:#B392F0">.search-bar</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">  position</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">sticky</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">  top</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">var</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">--navHeight</span><span style="color:#E1E4E8">);  </span><span style="color:#6A737D">/* 70px */</span></span>
<span class="line"><span style="color:#79B8FF">  z-index</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">  background</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">var</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">--colorBackground</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<p><strong>æ•ˆæœ</strong>ï¼š</p>
<ul>
<li>æ»šåŠ¨æ—¶æœç´¢æ ä¿æŒåœ¨å¯¼èˆªæ ä¸‹æ–¹</li>
<li>æ–¹ä¾¿ç”¨æˆ·åœ¨æµè§ˆé•¿åˆ—è¡¨æ—¶å¿«é€Ÿæœç´¢</li>
</ul>
<hr>
<h3 id="3-åˆ—è¡¨å±•ç¤º">3. åˆ—è¡¨å±•ç¤º</h3>
<h4 id="31-è¯—æ­Œåˆ—è¡¨é¡¹">3.1 è¯—æ­Œåˆ—è¡¨é¡¹</h4>
<p><strong>HTMLç»“æ„</strong>ï¼š</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="astro"><code><span class="line"><span style="color:#E1E4E8">&#x3C;</span><span style="color:#85E89D">a</span></span>
<span class="line"><span style="color:#B392F0">  href</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">{</span><span style="color:#E1E4E8">`/</span><span style="color:#B392F0">poetry</span><span style="color:#E1E4E8">/</span><span style="color:#B392F0">$</span><span style="color:#E1E4E8">{</span><span style="color:#B392F0">poem.id</span><span style="color:#E1E4E8">}`}</span></span>
<span class="line"><span style="color:#B392F0">  class</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"poem-item"</span></span>
<span class="line"><span style="color:#B392F0">  data-type</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">{poem.type}</span></span>
<span class="line"><span style="color:#B392F0">  data-year</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">{poem.year}</span></span>
<span class="line"><span style="color:#B392F0">  data-title</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">{poem.title}</span></span>
<span class="line"><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">  &#x3C;</span><span style="color:#85E89D">span</span><span style="color:#B392F0"> class</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"poem-dot"</span><span style="color:#E1E4E8">>&#x3C;/</span><span style="color:#85E89D">span</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">  &#x3C;</span><span style="color:#85E89D">span</span><span style="color:#B392F0"> class</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"poem-title"</span><span style="color:#E1E4E8">>{poem.title}&#x3C;/span></span></span>
<span class="line"><span style="color:#E1E4E8">&#x3C;/</span><span style="color:#85E89D">a</span><span style="color:#E1E4E8">></span></span>
<span class="line"></span></code></pre>
<p><strong>è®¾è®¡å…ƒç´ </strong>ï¼š</p>
<ul>
<li>çº¢è‰²è£…é¥°åœ†ç‚¹ï¼ˆ8pxï¼‰</li>
<li>è¯—æ­Œæ ‡é¢˜</li>
<li>æ‚¬åœèƒŒæ™¯å˜è‰²</li>
<li>æ ‡é¢˜é¢œè‰²å˜æ·±çº¢</li>
</ul>
<h4 id="32-dataå±æ€§è®¾è®¡">3.2 dataå±æ€§è®¾è®¡</h4>
<p><strong>ç”¨é€”</strong>ï¼šå­˜å‚¨è¯—æ­Œå…ƒæ•°æ®ï¼Œä¾›JavaScriptè¿‡æ»¤ä½¿ç”¨</p>

























<table><thead><tr><th>å±æ€§</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>data-type</code></td><td>è¯—æ­Œç±»å‹</td><td><code>short</code>, <code>long</code>, <code>sun</code>, <code>essay</code></td></tr><tr><td><code>data-year</code></td><td>åˆ›ä½œå¹´ä»½</td><td><code>1989</code>, <code>1988</code>, â€¦</td></tr><tr><td><code>data-title</code></td><td>è¯—æ­Œæ ‡é¢˜</td><td><code>é¢æœå¤§æµ·ï¼Œæ˜¥æš–èŠ±å¼€</code></td></tr></tbody></table>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>é¿å…åœ¨DOMä¸­å­˜å‚¨å¤æ‚å¯¹è±¡</li>
<li>æ–¹ä¾¿JavaScripté€šè¿‡å±æ€§é€‰æ‹©å™¨æŸ¥è¯¢</li>
<li>è¯­ä¹‰åŒ–æ ‡è®°</li>
</ul>
<h4 id="33-é“¾æ¥è·³è½¬">3.3 é“¾æ¥è·³è½¬</h4>
<p><strong>ç›®æ ‡é¡µé¢</strong>ï¼š<code>/poetry/[id]</code>ï¼ˆè¯—æ­Œè¯¦æƒ…é¡µï¼‰</p>
<p><strong>è·¯ç”±ç¤ºä¾‹</strong>ï¼š</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>/poetry/facing-the-sea    â†’ ã€Šé¢æœå¤§æµ·ï¼Œæ˜¥æš–èŠ±å¼€ã€‹</span></span>
<span class="line"><span>/poetry/haizi-diary       â†’ ã€Šæµ·å­å°å¤œæ›²ã€‹</span></span>
<span class="line"><span></span></span></code></pre>
<hr>
<h2 id="æ•°æ®ç»“æ„">æ•°æ®ç»“æ„</h2>
<h3 id="poemæ¥å£">Poemæ¥å£</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#F97583">export</span><span style="color:#F97583"> interface</span><span style="color:#B392F0"> Poem</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#FFAB70">  id</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;           </span><span style="color:#6A737D">// å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œç”¨äºURLè·¯ç”±</span></span>
<span class="line"><span style="color:#FFAB70">  title</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;        </span><span style="color:#6A737D">// è¯—æ­Œæ ‡é¢˜</span></span>
<span class="line"><span style="color:#FFAB70">  content</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;      </span><span style="color:#6A737D">// è¯—æ­Œå®Œæ•´å†…å®¹ï¼ˆå¤šè¡Œæ–‡æœ¬ï¼‰</span></span>
<span class="line"><span style="color:#FFAB70">  type</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;        </span><span style="color:#6A737D">// ç±»å‹: 'short' | 'long' | 'sun' | 'essay'</span></span>
<span class="line"><span style="color:#FFAB70">  year</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;        </span><span style="color:#6A737D">// å¹´ä»½: '1983'-'1989'</span></span>
<span class="line"><span style="color:#FFAB70">  tags</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">[];       </span><span style="color:#6A737D">// æ ‡ç­¾æ•°ç»„ï¼ˆæš‚æœªä½¿ç”¨ï¼‰</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="ç¤ºä¾‹æ•°æ®">ç¤ºä¾‹æ•°æ®</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#B392F0">  id</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'facing-the-sea'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#B392F0">  title</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'é¢æœå¤§æµ·ï¼Œæ˜¥æš–èŠ±å¼€'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#B392F0">  content</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">`ä»æ˜å¤©èµ·ï¼Œåšä¸€ä¸ªå¹¸ç¦çš„äºº</span></span>
<span class="line"><span style="color:#9ECBFF">å–‚é©¬ï¼ŒåŠˆæŸ´ï¼Œå‘¨æ¸¸ä¸–ç•Œ</span></span>
<span class="line"><span style="color:#9ECBFF">ä»æ˜å¤©èµ·ï¼Œå…³å¿ƒç²®é£Ÿå’Œè”¬èœ</span></span>
<span class="line"><span style="color:#9ECBFF">æˆ‘æœ‰ä¸€æ‰€æˆ¿å­ï¼Œé¢æœå¤§æµ·ï¼Œæ˜¥æš–èŠ±å¼€`</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#B392F0">  type</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'short'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#B392F0">  year</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'1989'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#B392F0">  tags</span><span style="color:#E1E4E8">: [</span><span style="color:#9ECBFF">'çŸ­è¯—'</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'1989'</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<hr>
<h2 id="æ ·å¼ç³»ç»Ÿ">æ ·å¼ç³»ç»Ÿ</h2>
<h3 id="csså˜é‡æ¥è‡ªglobalcss">CSSå˜é‡ï¼ˆæ¥è‡ªglobal.cssï¼‰</h3>
<p><strong>é¢œè‰²</strong>ï¼š</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="css"><code><span class="line"><span style="color:#E1E4E8">--colorPrimary: </span><span style="color:#FDAEB7;font-style:italic">#600000</span><span style="color:#E1E4E8">;              </span><span style="color:#6A737D">/* æ·±çº¢è‰²ï¼ˆä¸»é¢˜è‰²ï¼‰ */</span></span>
<span class="line"><span style="color:#E1E4E8">--colorPrimaryLight: </span><span style="color:#FDAEB7;font-style:italic">#8B0000</span><span style="color:#E1E4E8">;         </span><span style="color:#6A737D">/* æµ…çº¢è‰²ï¼ˆæ‚¬åœï¼‰ */</span></span>
<span class="line"><span style="color:#E1E4E8">--colorText: </span><span style="color:#FDAEB7;font-style:italic">#1a1a1a</span><span style="color:#E1E4E8">;                 </span><span style="color:#6A737D">/* æ­£æ–‡æ–‡å­— */</span></span>
<span class="line"><span style="color:#E1E4E8">--colorTextLight: </span><span style="color:#FDAEB7;font-style:italic">#666666</span><span style="color:#E1E4E8">;            </span><span style="color:#6A737D">/* æ¬¡è¦æ–‡å­— */</span></span>
<span class="line"><span style="color:#E1E4E8">--colorBackground: </span><span style="color:#FDAEB7;font-style:italic">#ffffff;</span><span style="color:#6A737D">           /* èƒŒæ™¯ç™½è‰² */</span></span>
<span class="line"><span style="color:#E1E4E8">--colorBorder: </span><span style="color:#FDAEB7;font-style:italic">#e5e5e5;</span><span style="color:#6A737D">               /* è¾¹æ¡†ç°è‰² */</span></span>
<span class="line"></span></code></pre>
<p><strong>å­—ä½“</strong>ï¼š</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="css"><code><span class="line"><span style="color:#E1E4E8">--fontDisplay: 'SimSun', 'Songti SC', serif;              </span><span style="color:#6A737D">/* å®‹ä½“ï¼ˆæ ‡é¢˜ï¼‰ */</span></span>
<span class="line"><span style="color:#E1E4E8">--fontBody: 'Satoshi', 'SimSun', 'Songti SC', </span><span style="color:#85E89D">sans-serif</span><span style="color:#E1E4E8">; </span><span style="color:#6A737D">/* Satoshiï¼ˆæ­£æ–‡ï¼‰ */</span></span>
<span class="line"><span style="color:#E1E4E8">--fontSizeBase: 1rem;                                      </span><span style="color:#6A737D">/* 16px */</span></span>
<span class="line"><span style="color:#E1E4E8">--fontSizeSm: 0.875rem;                                    </span><span style="color:#6A737D">/* 14px */</span></span>
<span class="line"></span></code></pre>
<p><strong>é—´è·</strong>ï¼š</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="css"><code><span class="line"><span style="color:#E1E4E8">--spacingMd: 1rem;                    </span><span style="color:#6A737D">/* 16px */</span></span>
<span class="line"><span style="color:#E1E4E8">--spacingLg: 1.5rem;                  </span><span style="color:#6A737D">/* 24px */</span></span>
<span class="line"><span style="color:#E1E4E8">--spacingXl: 2rem;                    </span><span style="color:#6A737D">/* 32px */</span></span>
<span class="line"><span style="color:#E1E4E8">--spacing2xl: 3rem;                   </span><span style="color:#6A737D">/* 48px */</span></span>
<span class="line"></span></code></pre>
<p><strong>å¸ƒå±€</strong>ï¼š</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="css"><code><span class="line"><span style="color:#E1E4E8">--navHeight: 70px;                    </span><span style="color:#6A737D">/* å¯¼èˆªæ é«˜åº¦ */</span></span>
<span class="line"><span style="color:#E1E4E8">--sidebarWidth: 320px;                </span><span style="color:#6A737D">/* ä¾§è¾¹æ å®½åº¦ */</span></span>
<span class="line"></span></code></pre>
<p><strong>åŠ¨ç”»</strong>ï¼š</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="css"><code><span class="line"><span style="color:#E1E4E8">--transitionFast: 150ms ease;         </span><span style="color:#6A737D">/* å¿«é€Ÿè¿‡æ¸¡ */</span></span>
<span class="line"><span style="color:#E1E4E8">--transitionNormal: 250ms ease;       </span><span style="color:#6A737D">/* æ ‡å‡†è¿‡æ¸¡ */</span></span>
<span class="line"></span></code></pre>
<h3 id="å¸ƒå±€æ–¹å¼">å¸ƒå±€æ–¹å¼</h3>
<p><strong>ä¸¤åˆ—Flexboxå¸ƒå±€</strong>ï¼š</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="css"><code><span class="line"><span style="color:#B392F0">.poetry-page</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">  display</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">flex</span><span style="color:#E1E4E8">;                      </span><span style="color:#6A737D">/* å·¦å³å¸ƒå±€ */</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">.filter-sidebar</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">  width</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">var</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">--sidebarWidth</span><span style="color:#E1E4E8">);         </span><span style="color:#6A737D">/* å›ºå®šå®½åº¦320px */</span></span>
<span class="line"><span style="color:#79B8FF">  position</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">sticky</span><span style="color:#E1E4E8">;                   </span><span style="color:#6A737D">/* ç²˜æ€§å®šä½ */</span></span>
<span class="line"><span style="color:#79B8FF">  top</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">var</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">--navHeight</span><span style="color:#E1E4E8">);              </span><span style="color:#6A737D">/* åœ¨å¯¼èˆªæ ä¸‹æ–¹ */</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">.poetry-main</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">  flex</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">;                            </span><span style="color:#6A737D">/* å æ®å‰©ä½™ç©ºé—´ */</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="è‡ªå®šä¹‰å¤é€‰æ¡†">è‡ªå®šä¹‰å¤é€‰æ¡†</h3>
<p><strong>å®ç°åŸç†</strong>ï¼š</p>
<ol>
<li>éšè—åŸç”Ÿ<code>&#x3C;input type="checkbox"></code></li>
<li>ä½¿ç”¨<code>.checkbox-custom</code>ä¼ªå…ƒç´ æ¨¡æ‹Ÿ</li>
<li>é€šè¿‡<code>:checked</code>ä¼ªç±»æ§åˆ¶æ ·å¼</li>
</ol>
<p><strong>å…³é”®ä»£ç </strong>ï¼š</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="css"><code><span class="line"><span style="color:#6A737D">/* éšè—åŸç”Ÿå¤é€‰æ¡† */</span></span>
<span class="line"><span style="color:#B392F0">.filter-option</span><span style="color:#85E89D"> input</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">  position</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">absolute</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">  opacity</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">/* è‡ªå®šä¹‰å¤é€‰æ¡†å¤–è§‚ */</span></span>
<span class="line"><span style="color:#B392F0">.checkbox-custom</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">  width</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">16</span><span style="color:#F97583">px</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">  height</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">16</span><span style="color:#F97583">px</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">  border</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">1.5</span><span style="color:#F97583">px</span><span style="color:#79B8FF"> solid</span><span style="color:#79B8FF"> var</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">--colorBorder</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#79B8FF">  border-radius</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">3</span><span style="color:#F97583">px</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">/* é€‰ä¸­çŠ¶æ€ */</span></span>
<span class="line"><span style="color:#B392F0">.filter-option</span><span style="color:#85E89D"> input</span><span style="color:#B392F0">:checked</span><span style="color:#F97583"> +</span><span style="color:#B392F0"> .checkbox-custom</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">  background-color</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">var</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">--colorPrimary</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#79B8FF">  border-color</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">var</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">--colorPrimary</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">/* å‹¾é€‰ç¬¦å·ï¼ˆCSSç»˜åˆ¶ï¼‰ */</span></span>
<span class="line"><span style="color:#B392F0">.filter-option</span><span style="color:#85E89D"> input</span><span style="color:#B392F0">:checked</span><span style="color:#F97583"> +</span><span style="color:#B392F0"> .checkbox-custom::after</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">  content</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">  width</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">4</span><span style="color:#F97583">px</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">  height</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">8</span><span style="color:#F97583">px</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">  border</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">solid</span><span style="color:#79B8FF"> white</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">  border-width</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">0</span><span style="color:#79B8FF"> 2</span><span style="color:#F97583">px</span><span style="color:#79B8FF"> 2</span><span style="color:#F97583">px</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">  transform</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">rotate</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">45</span><span style="color:#F97583">deg</span><span style="color:#E1E4E8">) </span><span style="color:#79B8FF">translateY</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">-1</span><span style="color:#F97583">px</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<hr>
<h2 id="äº¤äº’é€»è¾‘">äº¤äº’é€»è¾‘</h2>
<h3 id="æ ¸å¿ƒè¿‡æ»¤å‡½æ•°">æ ¸å¿ƒè¿‡æ»¤å‡½æ•°</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> filterPoems</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6A737D">  // 1. è·å–æœç´¢å…³é”®è¯</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> searchTerm</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> searchInput.value.</span><span style="color:#B392F0">toLowerCase</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">  // 2. è·å–é€‰ä¸­çš„ç±»å‹</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> selectedTypes</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> Array.</span><span style="color:#B392F0">from</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">    document.</span><span style="color:#B392F0">querySelectorAll</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'input[name="type"]:checked'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">  ).</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">input</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> input.value);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">  // 3. è·å–é€‰ä¸­çš„å¹´ä»½</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> selectedYears</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> Array.</span><span style="color:#B392F0">from</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">    document.</span><span style="color:#B392F0">querySelectorAll</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'input[name="year"]:checked'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">  ).</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">input</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> input.value);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">  // 4. éå†æ‰€æœ‰è¯—æ­Œé¡¹</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> poems</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> poemList?.</span><span style="color:#B392F0">querySelectorAll</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'.poem-item'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  poems?.</span><span style="color:#B392F0">forEach</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">poem</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> title</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> poem.</span><span style="color:#B392F0">getAttribute</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'data-title'</span><span style="color:#E1E4E8">)?.</span><span style="color:#B392F0">toLowerCase</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">||</span><span style="color:#9ECBFF"> ''</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> type</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> poem.</span><span style="color:#B392F0">getAttribute</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'data-type'</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">||</span><span style="color:#9ECBFF"> ''</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> year</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> poem.</span><span style="color:#B392F0">getAttribute</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'data-year'</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">||</span><span style="color:#9ECBFF"> ''</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    // 5. ä¸‰é‡æ¡ä»¶åˆ¤æ–­ï¼ˆANDé€»è¾‘ï¼‰</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> matchesSearch</span><span style="color:#F97583"> =</span><span style="color:#F97583"> !</span><span style="color:#E1E4E8">searchTerm </span><span style="color:#F97583">||</span><span style="color:#E1E4E8"> title.</span><span style="color:#B392F0">includes</span><span style="color:#E1E4E8">(searchTerm);</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> matchesType</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> selectedTypes.</span><span style="color:#79B8FF">length</span><span style="color:#F97583"> ===</span><span style="color:#79B8FF"> 0</span><span style="color:#F97583"> ||</span><span style="color:#E1E4E8"> selectedTypes.</span><span style="color:#B392F0">includes</span><span style="color:#E1E4E8">(type);</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> matchesYear</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> selectedYears.</span><span style="color:#79B8FF">length</span><span style="color:#F97583"> ===</span><span style="color:#79B8FF"> 0</span><span style="color:#F97583"> ||</span><span style="color:#E1E4E8"> selectedYears.</span><span style="color:#B392F0">includes</span><span style="color:#E1E4E8">(year);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    // 6. æ˜¾ç¤ºæˆ–éšè—</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (matchesSearch </span><span style="color:#F97583">&#x26;&#x26;</span><span style="color:#E1E4E8"> matchesType </span><span style="color:#F97583">&#x26;&#x26;</span><span style="color:#E1E4E8"> matchesYear) {</span></span>
<span class="line"><span style="color:#E1E4E8">      poem.classList.</span><span style="color:#B392F0">remove</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'hidden'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">      poem.classList.</span><span style="color:#B392F0">add</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'hidden'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<p><strong>è¿‡æ»¤é€»è¾‘</strong>ï¼š</p>
<ul>
<li><strong>æœç´¢åŒ¹é…</strong>ï¼šæ ‡é¢˜åŒ…å«å…³é”®è¯ï¼ˆç©ºåˆ™ä¸è¿‡æ»¤ï¼‰</li>
<li><strong>ç±»å‹åŒ¹é…</strong>ï¼šç±»å‹åœ¨é€‰ä¸­åˆ—è¡¨ä¸­ï¼ˆç©ºåˆ™ä¸è¿‡æ»¤ï¼‰</li>
<li><strong>å¹´ä»½åŒ¹é…</strong>ï¼šå¹´ä»½åœ¨é€‰ä¸­åˆ—è¡¨ä¸­ï¼ˆç©ºåˆ™ä¸è¿‡æ»¤ï¼‰</li>
<li><strong>ç»„åˆè§„åˆ™</strong>ï¼šä¸‰ä¸ªæ¡ä»¶å¿…é¡»åŒæ—¶æ»¡è¶³ï¼ˆANDï¼‰</li>
</ul>
<h3 id="äº‹ä»¶ç›‘å¬">äº‹ä»¶ç›‘å¬</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#6A737D">// å¤é€‰æ¡†å˜åŒ– â†’ è§¦å‘è¿‡æ»¤</span></span>
<span class="line"><span style="color:#E1E4E8">checkboxes.</span><span style="color:#B392F0">forEach</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">checkbox</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">  checkbox.</span><span style="color:#B392F0">addEventListener</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'change'</span><span style="color:#E1E4E8">, filterPoems);</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// æœç´¢è¾“å…¥ â†’ å®æ—¶è¿‡æ»¤</span></span>
<span class="line"><span style="color:#E1E4E8">searchInput?.</span><span style="color:#B392F0">addEventListener</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'input'</span><span style="color:#E1E4E8">, filterPoems);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// æ¸…é™¤æŒ‰é’® â†’ é‡ç½® + è¿‡æ»¤</span></span>
<span class="line"><span style="color:#E1E4E8">clearButton?.</span><span style="color:#B392F0">addEventListener</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'click'</span><span style="color:#E1E4E8">, () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">  checkboxes.</span><span style="color:#B392F0">forEach</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">cb</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> cb.checked </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  searchInput.value </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> ''</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#B392F0">  filterPoems</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// ç­›é€‰ç»„æŠ˜å /å±•å¼€</span></span>
<span class="line"><span style="color:#E1E4E8">filterToggles.</span><span style="color:#B392F0">forEach</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">toggle</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">  toggle.</span><span style="color:#B392F0">addEventListener</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'click'</span><span style="color:#E1E4E8">, () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> group</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> toggle.</span><span style="color:#B392F0">getAttribute</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'data-group'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> content</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> document.</span><span style="color:#B392F0">querySelector</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`[data-group-content="${</span><span style="color:#E1E4E8">group</span><span style="color:#9ECBFF">}"]`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    toggle.classList.</span><span style="color:#B392F0">toggle</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'collapsed'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    content?.classList.</span><span style="color:#B392F0">toggle</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'hidden'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"></span></code></pre>
<h3 id="æ•°æ®æµå‘å›¾">æ•°æ®æµå‘å›¾</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>ç”¨æˆ·æ“ä½œ</span></span>
<span class="line"><span>  â†“</span></span>
<span class="line"><span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span class="line"><span>â”‚  è¾“å…¥æœç´¢å…³é”®è¯   â”‚  å‹¾é€‰/å–æ¶ˆå¤é€‰æ¡†  â”‚  ç‚¹å‡»æ¸…é™¤æŒ‰é’®  â”‚</span></span>
<span class="line"><span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span>
<span class="line"><span>  â†“                  â†“                   â†“</span></span>
<span class="line"><span>  inputäº‹ä»¶          changeäº‹ä»¶          clickäº‹ä»¶</span></span>
<span class="line"><span>  â†“                  â†“                   â†“</span></span>
<span class="line"><span>  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span>
<span class="line"><span>                     â†“</span></span>
<span class="line"><span>              filterPoems() å‡½æ•°</span></span>
<span class="line"><span>                     â†“</span></span>
<span class="line"><span>      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span class="line"><span>      â†“              â†“              â†“</span></span>
<span class="line"><span>   è¯»å–æœç´¢è¯    è¯»å–é€‰ä¸­ç±»å‹   è¯»å–é€‰ä¸­å¹´ä»½</span></span>
<span class="line"><span>      â†“              â†“              â†“</span></span>
<span class="line"><span>      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span>
<span class="line"><span>                     â†“</span></span>
<span class="line"><span>         éå†æ‰€æœ‰ .poem-item å…ƒç´ </span></span>
<span class="line"><span>                     â†“</span></span>
<span class="line"><span>        è¯»å– data-title, data-type, data-year</span></span>
<span class="line"><span>                     â†“</span></span>
<span class="line"><span>           ä¸‰é‡æ¡ä»¶åˆ¤æ–­ï¼ˆANDé€»è¾‘ï¼‰</span></span>
<span class="line"><span>                     â†“</span></span>
<span class="line"><span>       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span class="line"><span>       â†“                           â†“</span></span>
<span class="line"><span>   å…¨éƒ¨åŒ¹é…                    è‡³å°‘ä¸€é¡¹ä¸åŒ¹é…</span></span>
<span class="line"><span>       â†“                           â†“</span></span>
<span class="line"><span> ç§»é™¤ .hidden ç±»              æ·»åŠ  .hidden ç±»</span></span>
<span class="line"><span>       â†“                           â†“</span></span>
<span class="line"><span>   è¯—æ­Œé¡¹æ˜¾ç¤º                   è¯—æ­Œé¡¹éšè—</span></span>
<span class="line"><span></span></span></code></pre>
<hr>
<h2 id="å“åº”å¼è®¾è®¡">å“åº”å¼è®¾è®¡</h2>
<h3 id="æ–­ç‚¹å®šä¹‰">æ–­ç‚¹å®šä¹‰</h3>

























<table><thead><tr><th>è®¾å¤‡</th><th>å±å¹•å®½åº¦</th><th>å¸ƒå±€ç‰¹ç‚¹</th></tr></thead><tbody><tr><td>æ¡Œé¢</td><td>> 1024px</td><td>ä¸¤åˆ—ï¼ˆ320px + flex:1ï¼‰</td></tr><tr><td>å¹³æ¿</td><td>768px - 1024px</td><td>ä¸¤åˆ—ï¼ˆ260px + flex:1ï¼‰</td></tr><tr><td>æ‰‹æœº</td><td>&#x3C; 768px</td><td>å•åˆ—å †å </td></tr></tbody></table>
<h3 id="æ¡Œé¢å¸ƒå±€é»˜è®¤">æ¡Œé¢å¸ƒå±€ï¼ˆé»˜è®¤ï¼‰</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="css"><code><span class="line"><span style="color:#B392F0">.poetry-page</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">  display</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">flex</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">  flex-direction</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">row</span><span style="color:#E1E4E8">;                </span><span style="color:#6A737D">/* å·¦å³å¸ƒå±€ */</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">.filter-sidebar</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">  width</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">320</span><span style="color:#F97583">px</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">  min-width</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">320</span><span style="color:#F97583">px</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">  position</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">sticky</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">  top</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">70</span><span style="color:#F97583">px</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">.poetry-main</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">  flex</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">  padding</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">48</span><span style="color:#F97583">px</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="å¹³æ¿å¸ƒå±€">å¹³æ¿å¸ƒå±€</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="css"><code><span class="line"><span style="color:#F97583">@media</span><span style="color:#E1E4E8"> (</span><span style="color:#79B8FF">max-width</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">1024</span><span style="color:#F97583">px</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#B392F0">  .filter-sidebar</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">    width</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">260</span><span style="color:#F97583">px</span><span style="color:#E1E4E8">;                     </span><span style="color:#6A737D">/* ç¼©å°ä¾§è¾¹æ  */</span></span>
<span class="line"><span style="color:#79B8FF">    min-width</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">260</span><span style="color:#F97583">px</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">    padding</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">24</span><span style="color:#F97583">px</span><span style="color:#E1E4E8">;                    </span><span style="color:#6A737D">/* å‡å°å†…è¾¹è· */</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="æ‰‹æœºå¸ƒå±€">æ‰‹æœºå¸ƒå±€</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="css"><code><span class="line"><span style="color:#F97583">@media</span><span style="color:#E1E4E8"> (</span><span style="color:#79B8FF">max-width</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">768</span><span style="color:#F97583">px</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#B392F0">  .poetry-page</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">    flex-direction</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">column</span><span style="color:#E1E4E8">;           </span><span style="color:#6A737D">/* ç«–å‘å †å  */</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">  .filter-sidebar</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">    width</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">100</span><span style="color:#F97583">%</span><span style="color:#E1E4E8">;                      </span><span style="color:#6A737D">/* å…¨å®½ */</span></span>
<span class="line"><span style="color:#79B8FF">    min-width</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">100</span><span style="color:#F97583">%</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">    height</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">auto</span><span style="color:#E1E4E8">;                     </span><span style="color:#6A737D">/* è‡ªé€‚åº”é«˜åº¦ */</span></span>
<span class="line"><span style="color:#79B8FF">    position</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">relative</span><span style="color:#E1E4E8">;               </span><span style="color:#6A737D">/* å–æ¶ˆç²˜æ€§å®šä½ */</span></span>
<span class="line"><span style="color:#79B8FF">    top</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">    border-right</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">none</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">    border-bottom</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">1</span><span style="color:#F97583">px</span><span style="color:#79B8FF"> solid</span><span style="color:#79B8FF"> var</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">--colorBorderLight</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">  .poetry-main</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">    padding</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">24</span><span style="color:#F97583">px</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">  .search-bar</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">    flex-direction</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">column</span><span style="color:#E1E4E8">;           </span><span style="color:#6A737D">/* æœç´¢æ ç«–æ’ */</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">  .search-button</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">    width</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">100</span><span style="color:#F97583">%</span><span style="color:#E1E4E8">;                      </span><span style="color:#6A737D">/* æŒ‰é’®å…¨å®½ */</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<hr>
<h2 id="ä½¿ç”¨æŒ‡å—">ä½¿ç”¨æŒ‡å—</h2>
<h3 id="å¦‚ä½•æ·»åŠ æ–°è¯—æ­Œ">å¦‚ä½•æ·»åŠ æ–°è¯—æ­Œ</h3>
<h4 id="æ­¥éª¤1åœ¨datatsä¸­æ·»åŠ æ•°æ®">æ­¥éª¤1ï¼šåœ¨data.tsä¸­æ·»åŠ æ•°æ®</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#6A737D">// src/content/data.ts</span></span>
<span class="line"><span style="color:#F97583">export</span><span style="color:#F97583"> const</span><span style="color:#79B8FF"> samplePoems</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Poem</span><span style="color:#E1E4E8">[] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#6A737D">  // ... ç°æœ‰è¯—æ­Œ</span></span>
<span class="line"><span style="color:#E1E4E8">  {</span></span>
<span class="line"><span style="color:#E1E4E8">    id: </span><span style="color:#9ECBFF">'new-poem-id'</span><span style="color:#E1E4E8">,              </span><span style="color:#6A737D">// ä½¿ç”¨å°å†™å­—æ¯å’Œè¿å­—ç¬¦</span></span>
<span class="line"><span style="color:#E1E4E8">    title: </span><span style="color:#9ECBFF">'æ–°è¯—æ­Œæ ‡é¢˜'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    content: </span><span style="color:#9ECBFF">`ç¬¬ä¸€è¡Œ</span></span>
<span class="line"><span style="color:#9ECBFF">ç¬¬äºŒè¡Œ</span></span>
<span class="line"><span style="color:#9ECBFF">ç¬¬ä¸‰è¡Œ`</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    type: </span><span style="color:#9ECBFF">'short'</span><span style="color:#E1E4E8">,                  </span><span style="color:#6A737D">// short | long | sun | essay</span></span>
<span class="line"><span style="color:#E1E4E8">    year: </span><span style="color:#9ECBFF">'1989'</span><span style="color:#E1E4E8">,                   </span><span style="color:#6A737D">// 1983-1989</span></span>
<span class="line"><span style="color:#E1E4E8">    tags: [</span><span style="color:#9ECBFF">'çŸ­è¯—'</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'1989'</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">];</span></span>
<span class="line"></span></code></pre>
<h4 id="æ­¥éª¤2åˆ›å»ºè¯¦æƒ…é¡µè‡ªåŠ¨ç”Ÿæˆ">æ­¥éª¤2ï¼šåˆ›å»ºè¯¦æƒ…é¡µï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰</h4>
<p>ç”±äºä½¿ç”¨äº†<code>getStaticPaths()</code>ï¼Œæ·»åŠ æ•°æ®åAstroä¼šè‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„è¯¦æƒ…é¡µè·¯ç”±ã€‚</p>
<h4 id="æ­¥éª¤3éªŒè¯">æ­¥éª¤3ï¼šéªŒè¯</h4>
<ol>
<li>é‡å¯å¼€å‘æœåŠ¡å™¨</li>
<li>è®¿é—® <code>/poetry</code> æŸ¥çœ‹åˆ—è¡¨</li>
<li>ç‚¹å‡»æ–°è¯—æ­Œæ ‡é¢˜ï¼Œè·³è½¬åˆ° <code>/poetry/new-poem-id</code></li>
</ol>
<h3 id="å¦‚ä½•ä¿®æ”¹ç­›é€‰é€‰é¡¹">å¦‚ä½•ä¿®æ”¹ç­›é€‰é€‰é¡¹</h3>
<h4 id="æ·»åŠ æ–°çš„è¯—æ­Œç±»å‹">æ·»åŠ æ–°çš„è¯—æ­Œç±»å‹</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#6A737D">// src/content/data.ts</span></span>
<span class="line"><span style="color:#F97583">export</span><span style="color:#F97583"> const</span><span style="color:#79B8FF"> poemTypes</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">  { key: </span><span style="color:#9ECBFF">'short'</span><span style="color:#E1E4E8">, label: </span><span style="color:#9ECBFF">'çŸ­è¯—'</span><span style="color:#E1E4E8"> },</span></span>
<span class="line"><span style="color:#E1E4E8">  { key: </span><span style="color:#9ECBFF">'long'</span><span style="color:#E1E4E8">, label: </span><span style="color:#9ECBFF">'é•¿è¯—'</span><span style="color:#E1E4E8"> },</span></span>
<span class="line"><span style="color:#E1E4E8">  { key: </span><span style="color:#9ECBFF">'sun'</span><span style="color:#E1E4E8">, label: </span><span style="color:#9ECBFF">'å¤ªé˜³Â·ä¸ƒéƒ¨ä¹¦'</span><span style="color:#E1E4E8"> },</span></span>
<span class="line"><span style="color:#E1E4E8">  { key: </span><span style="color:#9ECBFF">'essay'</span><span style="color:#E1E4E8">, label: </span><span style="color:#9ECBFF">'æ–‡è®º'</span><span style="color:#E1E4E8"> },</span></span>
<span class="line"><span style="color:#E1E4E8">  { key: </span><span style="color:#9ECBFF">'new-type'</span><span style="color:#E1E4E8">, label: </span><span style="color:#9ECBFF">'æ–°ç±»å‹'</span><span style="color:#E1E4E8"> },  </span><span style="color:#6A737D">// â† æ·»åŠ æ–°ç±»å‹</span></span>
<span class="line"><span style="color:#E1E4E8">];</span></span>
<span class="line"></span></code></pre>
<p>æ— éœ€ä¿®æ”¹é¡µé¢ä»£ç ï¼Œç­›é€‰é€‰é¡¹ä¼šè‡ªåŠ¨ç”Ÿæˆã€‚</p>
<h4 id="æ·»åŠ æ–°çš„å¹´ä»½">æ·»åŠ æ–°çš„å¹´ä»½</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#6A737D">// src/content/data.ts</span></span>
<span class="line"><span style="color:#F97583">export</span><span style="color:#F97583"> const</span><span style="color:#79B8FF"> poemYears</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#9ECBFF">  '1983'</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'1984'</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'1985'</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'1986'</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'1987'</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'1988'</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'1989'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">  '1990'</span><span style="color:#6A737D">  // â† æ·»åŠ æ–°å¹´ä»½</span></span>
<span class="line"><span style="color:#E1E4E8">];</span></span>
<span class="line"></span></code></pre>
<h3 id="å¦‚ä½•è‡ªå®šä¹‰æ ·å¼">å¦‚ä½•è‡ªå®šä¹‰æ ·å¼</h3>
<h4 id="ä¿®æ”¹ä¸»é¢˜è‰²">ä¿®æ”¹ä¸»é¢˜è‰²</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="css"><code><span class="line"><span style="color:#6A737D">/* src/styles/global.css */</span></span>
<span class="line"><span style="color:#B392F0">:root</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#FFAB70">  --colorPrimary</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">#600000</span><span style="color:#E1E4E8">;          </span><span style="color:#6A737D">/* æ”¹ä¸ºå…¶ä»–é¢œè‰² */</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<p>æ‰€æœ‰ä½¿ç”¨<code>var(--colorPrimary)</code>çš„åœ°æ–¹ä¼šè‡ªåŠ¨æ›´æ–°ã€‚</p>
<h4 id="ä¿®æ”¹ä¾§è¾¹æ å®½åº¦">ä¿®æ”¹ä¾§è¾¹æ å®½åº¦</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="css"><code><span class="line"><span style="color:#6A737D">/* src/styles/global.css */</span></span>
<span class="line"><span style="color:#B392F0">:root</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#FFAB70">  --sidebarWidth</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">320</span><span style="color:#F97583">px</span><span style="color:#E1E4E8">;            </span><span style="color:#6A737D">/* æ”¹ä¸ºå…¶ä»–å®½åº¦ï¼Œå¦‚280px */</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h4 id="ä¿®æ”¹åˆ—è¡¨é¡¹æ ·å¼">ä¿®æ”¹åˆ—è¡¨é¡¹æ ·å¼</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="css"><code><span class="line"><span style="color:#6A737D">/* src/styles/pages/poetry-index.css */</span></span>
<span class="line"><span style="color:#B392F0">.poem-item</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">  padding</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">var</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">--spacingMd</span><span style="color:#E1E4E8">) </span><span style="color:#79B8FF">var</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">--spacingLg</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#79B8FF">  border-radius</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">var</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">--radiusSm</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#6A737D">  /* æ·»åŠ è‡ªå®šä¹‰æ ·å¼ */</span></span>
<span class="line"><span style="color:#79B8FF">  font-size</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">18</span><span style="color:#F97583">px</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">  font-weight</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">500</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">.poem-dot</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">  width</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">8</span><span style="color:#F97583">px</span><span style="color:#E1E4E8">;                       </span><span style="color:#6A737D">/* æ”¹å˜åœ†ç‚¹å¤§å° */</span></span>
<span class="line"><span style="color:#79B8FF">  height</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">8</span><span style="color:#F97583">px</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">  background</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">var</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">--colorPrimary</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<hr>
<h2 id="ç»´æŠ¤è¯´æ˜">ç»´æŠ¤è¯´æ˜</h2>
<h3 id="æ ·å¼å˜é‡ä¿®æ”¹ä½ç½®">æ ·å¼å˜é‡ä¿®æ”¹ä½ç½®</h3>
<p><strong>å…¨å±€å˜é‡</strong>ï¼š<code>src/styles/global.css</code></p>
<ul>
<li>é¢œè‰²ç³»ç»Ÿ</li>
<li>å­—ä½“ç³»ç»Ÿ</li>
<li>é—´è·ç³»ç»Ÿ</li>
<li>å¸ƒå±€å°ºå¯¸</li>
</ul>
<p><strong>é¡µé¢ä¸“å±æ ·å¼</strong>ï¼š<code>src/styles/pages/poetry-index.css</code></p>
<ul>
<li>ç­›é€‰æ å¸ƒå±€</li>
<li>æœç´¢æ æ ·å¼</li>
<li>åˆ—è¡¨é¡¹æ ·å¼</li>
<li>å“åº”å¼é€‚é…</li>
</ul>
<h3 id="ç­›é€‰é€»è¾‘æ‰©å±•æ–¹æ³•">ç­›é€‰é€»è¾‘æ‰©å±•æ–¹æ³•</h3>
<h4 id="æ·»åŠ æ–°çš„ç­›é€‰ç»´åº¦å¦‚æ ‡ç­¾ç­›é€‰">æ·»åŠ æ–°çš„ç­›é€‰ç»´åº¦ï¼ˆå¦‚ï¼šæ ‡ç­¾ç­›é€‰ï¼‰</h4>
<p><strong>æ­¥éª¤1</strong>ï¼šåœ¨data.tsä¸­å®šä¹‰æ ‡ç­¾æ•°æ®</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#F97583">export</span><span style="color:#F97583"> const</span><span style="color:#79B8FF"> poemTags</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [</span><span style="color:#9ECBFF">'çˆ±æƒ…'</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'è‡ªç„¶'</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'å“²æ€'</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'ç”Ÿæ´»'</span><span style="color:#E1E4E8">];</span></span>
<span class="line"></span></code></pre>
<p><strong>æ­¥éª¤2</strong>ï¼šåœ¨index.astroä¸­æ·»åŠ ç­›é€‰ç»„</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="astro"><code><span class="line"><span style="color:#E1E4E8">&#x3C;</span><span style="color:#85E89D">div</span><span style="color:#B392F0"> class</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"filter-group"</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">  &#x3C;</span><span style="color:#85E89D">button</span><span style="color:#B392F0"> class</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"filter-group-toggle"</span><span style="color:#B392F0"> data-group</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"tag"</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">    &#x3C;</span><span style="color:#85E89D">span</span><span style="color:#E1E4E8">>æ ‡ç­¾&#x3C;/</span><span style="color:#85E89D">span</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">    &#x3C;</span><span style="color:#85E89D">svg</span><span style="color:#B392F0"> class</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"toggle-icon"</span><span style="color:#E1E4E8">>...&#x3C;/</span><span style="color:#85E89D">svg</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">  &#x3C;/</span><span style="color:#85E89D">button</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">  &#x3C;</span><span style="color:#85E89D">div</span><span style="color:#B392F0"> class</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"filter-options"</span><span style="color:#B392F0"> data-group-content</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"tag"</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">    {poemTags.map((tag) => (</span></span>
<span class="line"><span style="color:#E1E4E8">      &#x3C;</span><span style="color:#85E89D">label</span><span style="color:#B392F0"> class</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"filter-option"</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">        &#x3C;</span><span style="color:#85E89D">input</span><span style="color:#B392F0"> type</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"checkbox"</span><span style="color:#B392F0"> name</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"tag"</span><span style="color:#B392F0"> value</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">{tag}</span><span style="color:#E1E4E8"> /></span></span>
<span class="line"><span style="color:#E1E4E8">        &#x3C;</span><span style="color:#85E89D">span</span><span style="color:#B392F0"> class</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"checkbox-custom"</span><span style="color:#E1E4E8">>&#x3C;/</span><span style="color:#85E89D">span</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">        &#x3C;</span><span style="color:#85E89D">span</span><span style="color:#B392F0"> class</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"option-label"</span><span style="color:#E1E4E8">>{tag}&#x3C;/span></span></span>
<span class="line"><span style="color:#E1E4E8">      &#x3C;/</span><span style="color:#85E89D">label</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">    ))}</span></span>
<span class="line"><span style="color:#E1E4E8">  &#x3C;/</span><span style="color:#85E89D">div</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">&#x3C;/</span><span style="color:#85E89D">div</span><span style="color:#E1E4E8">></span></span>
<span class="line"></span></code></pre>
<p><strong>æ­¥éª¤3</strong>ï¼šåœ¨filterPoems()ä¸­æ·»åŠ è¿‡æ»¤é€»è¾‘</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> selectedTags</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> Array.</span><span style="color:#B392F0">from</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">  document.</span><span style="color:#B392F0">querySelectorAll</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'input[name="tag"]:checked'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">).</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">input</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> input.value);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> tags</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> poem.</span><span style="color:#B392F0">getAttribute</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'data-tags'</span><span style="color:#E1E4E8">)?.</span><span style="color:#B392F0">split</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">','</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">||</span><span style="color:#E1E4E8"> [];</span></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> matchesTag</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> selectedTags.</span><span style="color:#79B8FF">length</span><span style="color:#F97583"> ===</span><span style="color:#79B8FF"> 0</span><span style="color:#F97583"> ||</span></span>
<span class="line"><span style="color:#E1E4E8">  selectedTags.</span><span style="color:#B392F0">some</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">tag</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> tags.</span><span style="color:#B392F0">includes</span><span style="color:#E1E4E8">(tag));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// åœ¨æœ€ç»ˆåˆ¤æ–­ä¸­æ·»åŠ </span></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> (matchesSearch </span><span style="color:#F97583">&#x26;&#x26;</span><span style="color:#E1E4E8"> matchesType </span><span style="color:#F97583">&#x26;&#x26;</span><span style="color:#E1E4E8"> matchesYear </span><span style="color:#F97583">&#x26;&#x26;</span><span style="color:#E1E4E8"> matchesTag) {</span></span>
<span class="line"><span style="color:#E1E4E8">  poem.classList.</span><span style="color:#B392F0">remove</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'hidden'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">} </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">  poem.classList.</span><span style="color:#B392F0">add</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'hidden'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<p><strong>æ­¥éª¤4</strong>ï¼šåœ¨è¯—æ­Œåˆ—è¡¨é¡¹ä¸­æ·»åŠ dataå±æ€§</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="astro"><code><span class="line"><span style="color:#E1E4E8">&#x3C;</span><span style="color:#85E89D">a</span></span>
<span class="line"><span style="color:#B392F0">  href</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">{</span><span style="color:#E1E4E8">`/</span><span style="color:#B392F0">poetry</span><span style="color:#E1E4E8">/</span><span style="color:#B392F0">$</span><span style="color:#E1E4E8">{</span><span style="color:#B392F0">poem.id</span><span style="color:#E1E4E8">}`}</span></span>
<span class="line"><span style="color:#B392F0">  class</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"poem-item"</span></span>
<span class="line"><span style="color:#B392F0">  data-type</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">{poem.type}</span></span>
<span class="line"><span style="color:#B392F0">  data-year</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">{poem.year}</span></span>
<span class="line"><span style="color:#B392F0">  data-title</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">{poem.title}</span></span>
<span class="line"><span style="color:#B392F0">  data-tags</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">{poem.tags.join(</span><span style="color:#E1E4E8">',')}  â† </span><span style="color:#B392F0">æ–°å¢</span></span>
<span class="line"><span style="color:#E1E4E8">></span></span>
<span class="line"></span></code></pre>
<h3 id="æ€§èƒ½ä¼˜åŒ–å»ºè®®">æ€§èƒ½ä¼˜åŒ–å»ºè®®</h3>
<h4 id="1-æœç´¢é˜²æŠ–">1. æœç´¢é˜²æŠ–</h4>
<p>å¯¹äºå¤§é‡è¯—æ­Œï¼Œé¢‘ç¹çš„è¿‡æ»¤æ“ä½œå¯èƒ½å½±å“æ€§èƒ½ã€‚</p>
<p><strong>ä¼˜åŒ–æ–¹æ¡ˆ</strong>ï¼šæ·»åŠ é˜²æŠ–ï¼ˆdebounceï¼‰</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> debounceTimer;</span></span>
<span class="line"><span style="color:#E1E4E8">searchInput?.</span><span style="color:#B392F0">addEventListener</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'input'</span><span style="color:#E1E4E8">, () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">  clearTimeout</span><span style="color:#E1E4E8">(debounceTimer);</span></span>
<span class="line"><span style="color:#E1E4E8">  debounceTimer </span><span style="color:#F97583">=</span><span style="color:#B392F0"> setTimeout</span><span style="color:#E1E4E8">(filterPoems, </span><span style="color:#79B8FF">300</span><span style="color:#E1E4E8">);  </span><span style="color:#6A737D">// 300mså»¶è¿Ÿ</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"></span></code></pre>
<h4 id="2-äº‹ä»¶å§”æ‰˜">2. äº‹ä»¶å§”æ‰˜</h4>
<p>ç›®å‰æ¯ä¸ªå¤é€‰æ¡†éƒ½æœ‰ç‹¬ç«‹ç›‘å¬å™¨ï¼Œæ•°é‡å¤šæ—¶å¯èƒ½å½±å“æ€§èƒ½ã€‚</p>
<p><strong>ä¼˜åŒ–æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨äº‹ä»¶å§”æ‰˜</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#6A737D">// æ›¿ä»£ä¸ºï¼š</span></span>
<span class="line"><span style="color:#E1E4E8">document.</span><span style="color:#B392F0">querySelector</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'.filter-sidebar'</span><span style="color:#E1E4E8">)?.</span><span style="color:#B392F0">addEventListener</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'change'</span><span style="color:#E1E4E8">, (</span><span style="color:#FFAB70">e</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> target</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> e.target </span><span style="color:#F97583">as</span><span style="color:#B392F0"> HTMLInputElement</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8"> (target.type </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> 'checkbox'</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#B392F0">    filterPoems</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"></span></code></pre>
<h4 id="3-è™šæ‹Ÿæ»šåŠ¨">3. è™šæ‹Ÿæ»šåŠ¨</h4>
<p>å¦‚æœè¯—æ­Œæ•°é‡è¶…è¿‡1000é¦–ï¼Œå¯è€ƒè™‘è™šæ‹Ÿæ»šåŠ¨ã€‚</p>
<p><strong>æ¨èåº“</strong>ï¼š</p>
<ul>
<li><code>@tanstack/virtual</code></li>
<li><code>react-window</code>ï¼ˆéœ€è¦Reacté›†æˆï¼‰</li>
</ul>
<h4 id="4-cssä¼˜åŒ–">4. CSSä¼˜åŒ–</h4>
<p><strong>é¿å…é‡æ’é‡ç»˜</strong>ï¼š</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="css"><code><span class="line"><span style="color:#6A737D">/* ä½¿ç”¨ transform ä»£æ›¿ top/left */</span></span>
<span class="line"><span style="color:#B392F0">.poem-item</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">  transform</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">translateY</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#79B8FF">  transition</span><span style="color:#E1E4E8">: transform </span><span style="color:#79B8FF">var</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">--transitionFast</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">.poem-item:hover</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">  transform</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">translateY</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">-2</span><span style="color:#F97583">px</span><span style="color:#E1E4E8">);  </span><span style="color:#6A737D">/* æ¯”ä¿®æ”¹ margin-top æ›´é«˜æ•ˆ */</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<hr>
<h2 id="å¸¸è§é—®é¢˜">å¸¸è§é—®é¢˜</h2>
<h3 id="q1-ç­›é€‰ä¸ç”Ÿæ•ˆ">Q1: ç­›é€‰ä¸ç”Ÿæ•ˆï¼Ÿ</h3>
<p><strong>æ£€æŸ¥æ¸…å•</strong>ï¼š</p>
<ol>
<li>ç¡®è®¤è¯—æ­Œæ•°æ®ä¸­æœ‰<code>type</code>å’Œ<code>year</code>å­—æ®µ</li>
<li>æ£€æŸ¥<code>data-type</code>å’Œ<code>data-year</code>å±æ€§æ˜¯å¦æ­£ç¡®è®¾ç½®</li>
<li>æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹æ˜¯å¦æœ‰JavaScripté”™è¯¯</li>
</ol>
<h3 id="q2-æœç´¢æ¡†æ— æ³•è¾“å…¥ä¸­æ–‡">Q2: æœç´¢æ¡†æ— æ³•è¾“å…¥ä¸­æ–‡ï¼Ÿ</h3>
<p><strong>åŸå› </strong>ï¼šIMEè¾“å…¥æ³•å¯èƒ½è§¦å‘å¤šæ¬¡<code>input</code>äº‹ä»¶</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨<code>compositionend</code>äº‹ä»¶</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> isComposing </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">searchInput?.</span><span style="color:#B392F0">addEventListener</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'compositionstart'</span><span style="color:#E1E4E8">, () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">  isComposing </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> true</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">searchInput?.</span><span style="color:#B392F0">addEventListener</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'compositionend'</span><span style="color:#E1E4E8">, () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">  isComposing </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#B392F0">  filterPoems</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">searchInput?.</span><span style="color:#B392F0">addEventListener</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'input'</span><span style="color:#E1E4E8">, () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">isComposing) {</span></span>
<span class="line"><span style="color:#B392F0">    filterPoems</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"></span></code></pre>
<h3 id="q3-ç§»åŠ¨ç«¯ç­›é€‰æ å¤ªé•¿">Q3: ç§»åŠ¨ç«¯ç­›é€‰æ å¤ªé•¿ï¼Ÿ</h3>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šæ·»åŠ é«˜åº¦é™åˆ¶å’Œæ»šåŠ¨</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="css"><code><span class="line"><span style="color:#F97583">@media</span><span style="color:#E1E4E8"> (</span><span style="color:#79B8FF">max-width</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">768</span><span style="color:#F97583">px</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#B392F0">  .filter-sidebar</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">    max-height</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">50</span><span style="color:#F97583">vh</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">    overflow-y</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">auto</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="q4-å¦‚ä½•æ·»åŠ åŠ¨ç”»æ•ˆæœ">Q4: å¦‚ä½•æ·»åŠ åŠ¨ç”»æ•ˆæœï¼Ÿ</h3>
<p><strong>æ·¡å…¥åŠ¨ç”»</strong>ï¼š</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="css"><code><span class="line"><span style="color:#F97583">@keyframes</span><span style="color:#FFAB70"> fadeIn</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">  from</span><span style="color:#E1E4E8"> { </span><span style="color:#79B8FF">opacity</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">; }</span></span>
<span class="line"><span style="color:#B392F0">  to</span><span style="color:#E1E4E8"> { </span><span style="color:#79B8FF">opacity</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">; }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">.poem-item</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">  animation</span><span style="color:#E1E4E8">: fadeIn </span><span style="color:#79B8FF">0.3</span><span style="color:#F97583">s</span><span style="color:#79B8FF"> ease</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">.poem-item.hidden</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">  display</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">none</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<hr>
<h2 id="æŠ€æœ¯æ ˆæ€»ç»“">æŠ€æœ¯æ ˆæ€»ç»“</h2>





































<table><thead><tr><th>æŠ€æœ¯</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><strong>Astro</strong></td><td>æ¡†æ¶å’ŒSSGï¼ˆé™æ€ç«™ç‚¹ç”Ÿæˆï¼‰</td></tr><tr><td><strong>TypeScript</strong></td><td>å®¢æˆ·ç«¯è„šæœ¬ç±»å‹å®‰å…¨</td></tr><tr><td><strong>CSS Variables</strong></td><td>ä¸»é¢˜ç³»ç»Ÿå’Œè®¾è®¡ä»¤ç‰Œ</td></tr><tr><td><strong>Flexbox</strong></td><td>å“åº”å¼å¸ƒå±€</td></tr><tr><td><strong>Media Queries</strong></td><td>æ–­ç‚¹é€‚é…</td></tr><tr><td><strong>Data Attributes</strong></td><td>å…ƒæ•°æ®å­˜å‚¨å’ŒDOMæŸ¥è¯¢</td></tr><tr><td><strong>Event Delegation</strong></td><td>äº‹ä»¶å¤„ç†ä¼˜åŒ–</td></tr></tbody></table>
<hr>
<h2 id="ç›¸å…³æ–‡æ¡£">ç›¸å…³æ–‡æ¡£</h2>
<ul>
<li><a href="./%5Bid%5D/README.md">è¯—æ­Œè¯¦æƒ…é¡µ README</a>ï¼ˆå¦‚éœ€åˆ›å»ºï¼‰</li>
<li><a href="../../styles/README.md">å…¨å±€æ ·å¼æ–‡æ¡£</a></li>
<li><a href="../../content/README.md">æ•°æ®ç»“æ„æ–‡æ¡£</a></li>
<li><a href="../../../REFACTORING.md">é¡¹ç›®é‡æ„æ–‡æ¡£</a></li>
</ul>
<hr>
<p><strong>æ–‡æ¡£ç‰ˆæœ¬</strong>ï¼š1.0
<strong>æœ€åæ›´æ–°</strong>ï¼š2026å¹´1æœˆ
<strong>ç»´æŠ¤è€…</strong>ï¼šæµ·å­è¯—æ­Œç½‘ç«™å¼€å‘å›¢é˜Ÿ</p>